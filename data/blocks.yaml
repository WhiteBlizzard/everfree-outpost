empty.shape: empty
empty.id: 0

grass:
    _.prefix: grass
    _.shape: floor

    # TODO: simplify this pattern
    center/v0.bottom: center/v0
    center/v1.bottom: center/v1
    center/v2.bottom: center/v2
    center/v3.bottom: center/v3

water_grass:
    _.prefix: water_grass
    _.shape: empty

    center.bottom: center/v0

    edge/_.prefix: edge
    edge: &cardinal-dirs
        n.bottom: n
        s.bottom: s
        w.bottom: w
        e.bottom: e

    corner/outer/_.prefix: corner/outer
    corner/outer: &diagonal-dirs
        nw.bottom: nw
        ne.bottom: ne
        sw.bottom: sw
        se.bottom: se

    corner/inner/_.prefix: corner/inner
    corner/inner: *diagonal-dirs

    cross/nw.bottom: cross/nw
    cross/ne.bottom: cross/ne

tree:
    _.prefix: tree
    _.shape: solid

    base/center/x0.bottom: /grass/center/v0
    base/center/x0.front: base/center/x0
    base/center/x1.bottom: /grass/center/v0
    base/center/x1.front: base/center/x1

    base/left/_.shape: floor
    base/left/y0.bottom: /grass/center/v0 + base/left/y0
    base/left/y1.bottom: /grass/center/v0 + base/left/y1
    base/right/_.shape: floor
    base/right/y0.bottom: /grass/center/v0 + base/right/y0
    base/right/y1.bottom: /grass/center/v0 + base/right/y1

    trunk/00.front: trunk/00
    trunk/10.front: trunk/10

    # TODO: correct tile naming to match the block naming.
    top/cutoff/01.front: trunk/01
    top/cutoff/01.top: top/cutoff/00
    top/cutoff/00.top: top/cutoff/01
    top/cutoff/11.front: trunk/11
    top/cutoff/11.top: top/cutoff/10
    top/cutoff/10.top: top/cutoff/11

    stump:
        _.bottom: /grass/center/v0
        _.shape: solid
        _.prefix: stump
        01.front: /tree/base/center/x0
        01.top: ./00
        00.top: ./01
        11.front: /tree/base/center/x1
        11.top: ./10
        10.top: ./11

    back: {}

stair:
    n.shape: ramp_n
    n.bottom: stair/n
    n.back: stair/n

floor:
    wood.shape: floor
    wood.bottom: wood_floor

rock:
    _.shape: solid
    _.bottom: /grass/center/v0
    x0.top:     rock/00
    x0.front:   rock/01
    x1.top:     rock/10
    x1.front:   rock/11

anvil:
    shape: solid
    bottom: /grass/center/v0
    front: anvil

chest:
    shape: solid
    bottom: /grass/center/v0
    front: chest

house_wall:
    prefix: house_wall
    shape: solid

    side:
        prefix: side

        n.prefix: n
        n/z0.bottom: /grass/center/v0 + /wood_floor/edge/n
        n/z0.front: "02"
        n/z1.front: "01"
        n/z1.top:   "00"

        s.prefix: s
        s/z0.bottom: /grass/center/v0 + /wood_floor/edge/s
        s/z0.front: "02"
        s/z1.front: "01"
        s/z1.top:   "00"

        w/z0.bottom: /grass/center/v0 + /wood_floor/edge/w
        w/z0.front: /house_wall/s_middle/01
        w/z1.front: /house_wall/s_middle/00
        w/z1.top:   w/00

        w_interior/z0.bottom: /wood_floor/center/v0
        w_interior/z0.front: /house_wall/s_middle/01
        w_interior/z1.front: /house_wall/s_middle/00
        w_interior/z1.top:   w/00

        e/z0.bottom: /grass/center/v0 + /wood_floor/edge/e
        e/z0.front: /house_wall/s_middle/01
        e/z1.front: /house_wall/s_middle/00
        e/z1.top:   e/00

        e_interior/z0.bottom: /wood_floor/center/v0
        e_interior/z0.front: /house_wall/s_middle/01
        e_interior/z1.front: /house_wall/s_middle/00
        e_interior/z1.top:   e/00

    outer:
        prefix: outer

        nw/z0.bottom: /grass/center/v0 + /wood_floor/corner/outer/nw
        nw/z0.front: nw/02 + /house_wall/s_middle/01
        nw/z1.front: nw/01 + /house_wall/s_middle/00
        nw/z1.top:   nw/00

        ne/z0.bottom: /grass/center/v0 + /wood_floor/corner/outer/ne
        ne/z0.front: ne/02 + /house_wall/s_middle/01
        ne/z1.front: ne/01 + /house_wall/s_middle/00
        ne/z1.top:   ne/00

        sw.prefix: sw
        sw/z0.bottom: /grass/center/v0 + /wood_floor/corner/outer/sw
        sw/z0.front: "02"
        sw/z1.front: "01"
        sw/z1.top:   "00"

        se.prefix: se
        se/z0.bottom: /grass/center/v0 + /wood_floor/corner/outer/se
        se/z0.front: "02"
        se/z1.front: "01"
        se/z1.top:   "00"

    inner:
        prefix: inner

        nw/z0.bottom: /grass/center/v0 + /wood_floor/corner/inner/se
        nw/z0.front: nw/02 + /house_wall/s_middle/01
        nw/z1.front: nw/01 + /house_wall/s_middle/00
        nw/z1.top:   nw/00

        ne/z0.bottom: /grass/center/v0 + /wood_floor/corner/inner/sw
        ne/z0.front: ne/02 + /house_wall/s_middle/01
        ne/z1.front: ne/01 + /house_wall/s_middle/00
        ne/z1.top:   ne/00

        sw.prefix: sw
        sw/z0.bottom: /grass/center/v0 + /wood_floor/corner/inner/ne
        sw/z0.front: "02"
        sw/z1.front: "01"
        sw/z1.top:   "00"

        se.prefix: se
        se/z0.bottom: /grass/center/v0 + /wood_floor/corner/inner/nw
        se/z0.front: "02"
        se/z1.front: "01"
        se/z1.top:   "00"

    tee/interior:
        e/z0.bottom: /wood_floor/center/v0
        e/z0.front: outer/nw/02 + s_middle/01
        e/z1.front: outer/nw/01 + s_middle/00
        e/z1.top:   outer/nw/00 + tee/e

        w/z0.bottom: /wood_floor/center/v0
        w/z0.front: outer/ne/02 + s_middle/01
        w/z1.front: outer/ne/01 + s_middle/00
        w/z1.top:   outer/ne/00 + tee/w

        s/z0.bottom: /wood_floor/center/v0
        s/z0.front: outer/nw/02 + outer/ne/02 + s_middle/01
        s/z1.front: outer/nw/01 + outer/ne/01 + s_middle/00
        s/z1.top:   outer/nw/00 + outer/ne/00 + tee/s

        n/z0.bottom: /wood_floor/center/v0
        n/z0.front: side/n/02
        n/z1.front: side/n/01
        n/z1.top:   side/n/00 + tee/n

    tee/exterior:
        e/z0.bottom: /grass/center/v0 + /wood_floor/edge/w
        e/z0.front: outer/nw/02 + s_middle/01
        e/z1.front: outer/nw/01 + s_middle/00
        e/z1.top:   outer/nw/00 + tee/e

        w/z0.bottom: /grass/center/v0 + /wood_floor/edge/e
        w/z0.front: outer/ne/02 + s_middle/01
        w/z1.front: outer/ne/01 + s_middle/00
        w/z1.top:   outer/ne/00 + tee/w

        s/z0.bottom: /grass/center/v0 + /wood_floor/edge/n
        s/z0.front: outer/nw/02 + outer/ne/02 + s_middle/01
        s/z1.front: outer/nw/01 + outer/ne/01 + s_middle/00
        s/z1.top:   outer/nw/00 + outer/ne/00 + tee/s

        n/z0.bottom: /grass/center/v0 + /wood_floor/edge/s
        n/z0.front: side/s/02
        n/z1.front: side/s/01
        n/z1.top:   side/s/00 + tee/n

house_floor:
    shape: floor
    bottom: /wood_floor/center/v0

house_door:
    shape: solid
    prefix: house_door

    z0:
        _.bottom: /grass/center/v0 + /wood_floor/edge/s
        x0.front: "02"
        x1.shape: floor
        x2.front: "22"

    z1:
        x0.front:   "01"
        x0.top:     "00"
        x1.front:   "11"
        x1.top:     "10"
        x1.shape:   empty
        x2.front:   "21"
        x2.top:     "20"

house_door_interior:
    shape: solid
    prefix: house_door_interior

    z0:
        _.bottom: /wood_floor/center/v0
        x0.front: "02"
        x1.shape: floor
        x2.front: "22"

    z1:
        x0.front:   "01"
        x0.top:     "00"
        x1.front:   "11"
        x1.top:     "10"
        x1.shape:   empty
        x2.front:   "21"
        x2.top:     "20"

ward:
    shape: solid
    prefix: ward
    top:    "00"
    front:  "01"
    bottom: /grass/center/v0


teleporter:
    shape: solid
    front:  crystal_formation
    bottom: grass/center/v0


fence:
    prefix: fence
    shape: solid
    _.bottom: /grass/center/v0


    n.front: we
    s.front: we
    e.front: ns
    w.front: ns

    nw.front: se
    ne.front: sw
    sw.front: ne
    se.front: nw

    gate_post_w.front: gate_post_w
    gate_post_e.front: gate_post_e

road:
    shape: floor
    bottom: road

cabinets:
    shape: solid
    prefix: house_wall/side
    z0.bottom: /grass/center/v0 + /wood_floor/edge/n
    z0.front: n/02 + /cabinets/02
    z1.front: n/01 + /cabinets/01
    z1.top:   n/00 + /cabinets/00

bed:
    shape: solid
    prefix: bed
    _.bottom: /wood_floor/center/v0
    00.top:   "00"
    10.top:   "10"
    01.top:   "01"
    01.front: "02"
    11.top:   "11"
    11.front: "12"

table:
    shape: solid
    prefix: table
    _.bottom: /wood_floor/center/v0
    00.top:   "00"
    10.top:   "10"
    01.top:   "01"
    01.front: "02"
    11.top:   "11"
    11.front: "12"

cave_entrance:
    shape: solid
    prefix: cave_wall/entrance

    x0:
        shape: solid
        z1.top: /cave_wall/top/horiz
        z1.front: "00"
        z0.front: "01"
        z0.bottom: /grass/center/v0 + /dirt_dark/edge/s

    x1:
        z1.top: /cave_wall/top/horiz
        z1.front: "10"
        z0.front: "11"
        z0.bottom: /grass/center/v0 + /dirt_dark/edge/s
        z1.shape: empty
        z0.shape: floor

    x2:
        shape: solid
        z1.top: /cave_wall/top/horiz
        z1.front: "20"
        z0.front: "21"
        z0.bottom: /grass/center/v0 + /dirt_dark/edge/s

# Cave/grass border
cave:
    shape: solid
    prefix: cave_wall

    center:
        z1.shape: empty
        z0.shape: floor
        z0.bottom: /dirt_dark/center/v0

    edge/n:
        z1.top: top/horiz
        z1.front: front/horiz/00
        z0.front: front/horiz/01
        z0.bottom: /dirt_dark/center/v0

    edge/s:
        z1.top: top/horiz
        z1.front: front/horiz/00
        z0.front: front/horiz/01
        z0.bottom: /grass/center/v0

    edge/w:
        z1.top: top/vert
        z0.bottom: /grass/center/v0 + /dirt_dark/edge/w

    edge/e:
        z1.top: top/vert
        z0.bottom: /grass/center/v0 + /dirt_dark/edge/e

    corner/outer/nw:
        z1.top: top/nw
        z1.front: front/nw/00
        z0.front: front/nw/01
        z0.bottom: /grass/center/v0 + /dirt_dark/corner/outer/nw

    corner/outer/ne:
        z1.top: top/ne
        z1.front: front/ne/00
        z0.front: front/ne/01
        z0.bottom: /grass/center/v0 + /dirt_dark/corner/outer/ne

    corner/outer/sw:
        z1.top: top/sw
        z1.front: front/sw/00
        z0.front: front/sw/01
        z0.bottom: /grass/center/v0 + /dirt_dark/corner/outer/sw

    corner/outer/se:
        z1.top: top/se
        z1.front: front/se/00
        z0.front: front/se/01
        z0.bottom: /grass/center/v0 + /dirt_dark/corner/outer/se

    corner/inner/nw:
        z1.top: top/se
        z1.front: front/se/00
        z0.front: front/se/01
        z0.bottom: /grass/center/v0 + /dirt_dark/corner/inner/nw

    corner/inner/ne:
        z1.top: top/sw
        z1.front: front/sw/00
        z0.front: front/sw/01
        z0.bottom: /grass/center/v0 + /dirt_dark/corner/inner/ne

    corner/inner/sw:
        z1.top: top/ne
        z1.front: front/ne/00
        z0.front: front/ne/01
        z0.bottom: /grass/center/v0 + /dirt_dark/corner/inner/sw

    corner/inner/se:
        z1.top: top/nw
        z1.front: front/nw/00
        z0.front: front/nw/01
        z0.bottom: /grass/center/v0 + /dirt_dark/corner/inner/se

    cross/nw:
        z1.top: top/cross
        z0.bottom: /grass/center/v0 + /dirt_dark/corner/inner/nw + /dirt_dark/corner/inner/se

    cross/ne:
        z1.top: top/cross
        z0.bottom: /grass/center/v0 + /dirt_dark/corner/inner/ne + /dirt_dark/corner/inner/sw


cave_top:
    _.prefix: cave_top
    _.shape: floor

    center.bottom: center/v0

    edge/_.prefix: edge
    edge: *cardinal-dirs

    corner/outer/_.prefix: corner/outer
    corner/outer: *diagonal-dirs

    corner/inner/_.prefix: corner/inner
    corner/inner: *diagonal-dirs

    cross/nw.bottom: cross
    cross/ne.bottom: cross
